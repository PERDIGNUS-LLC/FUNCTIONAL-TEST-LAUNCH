<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraDignus | Advanced Wildlife Habitation</title>

    <!-- model-viewer for .glb -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            --forest-green: #1A4D3E; /* Brand Green */
            --clay: #8D7F73;         /* NecTerra vibe */
            --off-white: #F4F4F0;
            --black: #111;
            --grey: #b3b3b3ff;       /* The Bio-Seal Color */
            --orb-color: #FFD26F;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--off-white);
            color: var(--black);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1, h2, h3 {
            font-weight: 700;
            letter-spacing: -0.05em;
        }

        .roman {
            font-family: 'Times New Roman', serif;
            letter-spacing: 0.1em;
        }

        /* --- HERO SECTION (UNCHANGED) --- */
        header {
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: var(--forest-green);
            color: white;
            padding: 2rem;
        }

        .logo-container {
            max-width: 125px;
            margin-bottom: .8rem;
            margin-top: 20px;
        }

        header h1 {
            font-size: 4rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.8;
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }

        /* --- ANNOTATED NESTEGG SECTION --- */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .nestegg-section {
            /* transparent background as requested */
            padding: 4rem 1.5rem 3rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nestegg-wrap {
            position: relative;
            width: min(900px, 100%);
            aspect-ratio: 4 / 3;
            margin: 0 auto;
            /* No visible box / container styling */
        }

        model-viewer#nestegg-viewer {
            width: 100%;
            height: 100%;
            --poster-color: transparent;
            background: transparent;
        }

        /* subtle float animation so it feels alive, not dead */
        .float-anim {
            animation: floatY 6s ease-in-out infinite;
        }

        @keyframes floatY {
            0%   { transform: translateY(4px); }
            50%  { transform: translateY(-4px); }
            100% { transform: translateY(4px); }
        }

        /* --- HOTSPOTS: glowing orbs + line + label --- */
        .hotspot {
            position: relative;
            width: 18px;
            height: 18px;
            border-radius: 999px;
            border: 2px solid #fff7dd;
            background: radial-gradient(circle, #ffffff 0, var(--orb-color) 45%, rgba(255, 255, 255, 0) 80%);
            box-shadow:
                0 0 10px rgba(255, 210, 111, 0.9),
                0 0 24px rgba(255, 210, 111, 0.7);
            outline: none;
            cursor: pointer;
        }

        .hotspot::before {
            /* leader line from orb toward label */
            content: "";
            position: absolute;
            left: 110%;
            top: 50%;
            width: 70px;
            height: 1px;
            background: rgba(17, 17, 17, 0.7);
            transform: translateY(-50%);
        }

        .hotspot-label {
            position: absolute;
            left: 110%;
            top: 50%;
            transform: translate(72px, -50%);
            white-space: nowrap;
            font-size: 0.78rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            padding: 0.2rem 0.55rem;
            border-radius: 999px;
            background: rgba(244, 244, 240, 0.96);
            border: 1px solid rgba(0, 0, 0, 0.12);
            color: var(--forest-green);
        }

        .hotspot.active {
            box-shadow:
                0 0 14px rgba(255, 230, 170, 1),
                0 0 32px rgba(255, 210, 111, 0.95);
            transform: scale(1.05);
        }

        .hotspot.dimmed {
            opacity: 0.2;
            box-shadow: none;
        }

        /* On small screens, keep labels a bit quieter */
        @media (max-width: 768px) {
            .hotspot::before {
                width: 40px;
            }
            .hotspot-label {
                font-size: 0.7rem;
                transform: translate(46px, -50%);
            }
        }

        /* --- FOOTER --- */
        footer {
            text-align: center;
            padding: 1.5rem 1rem 2rem;
            font-size: 0.8rem;
            color: rgba(0, 0, 0, 0.6);
        }
    </style>
</head>
<body>

    <!-- HERO (unchanged) -->
    <header>
        <img src="assets/TD HL BINDRUNE.png" alt="TerraDignus Logo" class="logo-container">
        <h1>TerraDignus</h1>
        <p class="roman">EST. MMXV</p>
        <br>
        <p>Conservation Engineering. Redefined.</p>
    </header>

    <!-- FLOATING ANNOTATED NESTEGG MODEL -->
    <main>
        <section class="nestegg-section">
            <div class="nestegg-wrap float-anim">
                <model-viewer
                    id="nestegg-viewer"
                    src="NestEggFBCR.glb"
                    alt="3D model of the NestEgg"
                    camera-controls
                    auto-rotate
                    auto-rotate-delay="2000"
                    rotation-per-second="4deg"
                    exposure="1.05"
                    shadow-intensity="0.25"
                    camera-orbit="0deg 80deg 2.2m"
                    camera-target="0m 0.1m 0m"
                    field-of-view="30deg"
                    disable-zoom
                >

                    <!-- 1. ENTRANCE APERTURE -->
                    <!-- inches → meters: (2.509, 0.000, 3.672) → (0.0637, 0.0000, 0.0933) -->
                    <button class="hotspot"
                        slot="hotspot-entrance"
                        data-feature="entrance"
                        data-position="0.0637m 0m 0.0933m"
                        data-normal="0m 0m 1m"
                        data-visibility-attribute="visible">
                        <span class="hotspot-label">Entrance Aperture</span>
                    </button>

                    <!-- 2. VENTILATION APERTURE (LEFT) -->
                    <!-- (0.0, -2.149, 3.849) → (0.0000, -0.0546, 0.0978) -->
                    <button class="hotspot"
                        slot="hotspot-vent"
                        data-feature="vent"
                        data-position="0m -0.0546m 0.0978m"
                        data-normal="0m 0m 1m"
                        data-visibility-attribute="visible">
                        <span class="hotspot-label">Ventilation Aperture (Left)</span>
                    </button>

                    <!-- 3. DRAINAGE APERTURE -->
                    <!-- (-0.877, 0.036, -3.951) → (-0.0223, 0.0009, -0.1004) -->
                    <button class="hotspot"
                        slot="hotspot-drain"
                        data-feature="drain"
                        data-position="-0.0223m 0.0009m -0.1004m"
                        data-normal="0m -1m 0m"
                        data-visibility-attribute="visible">
                        <span class="hotspot-label">Drainage Aperture</span>
                    </button>

                    <!-- 4. SHELL SEPARATION JOINT -->
                    <!-- (-0.003, 0.036, -0.419) → (-0.0001, 0.0009, -0.0106) -->
                    <button class="hotspot"
                        slot="hotspot-joint"
                        data-feature="joint"
                        data-position="-0.0001m 0.0009m -0.0106m"
                        data-normal="0m 0m 1m"
                        data-visibility-attribute="visible">
                        <span class="hotspot-label">Shell Separation Joint</span>
                    </button>

                </model-viewer>
            </div>
        </section>
    </main>

    <!-- FOOTER BELOW EVERYTHING -->
    <footer>
        TerraDignus — Variable-Volume Wildlife Habitation Systems © 2015–2025
    </footer>

    <script>
        const viewer = document.getElementById('nestegg-viewer');
        const hotspots = Array.from(document.querySelectorAll('.hotspot'));

        // basic camera targeting presets tied to each feature
        const featureCameras = {
            entrance: {
                target: "0.0637m 0m 0.0933m",
                orbit: "10deg 80deg 1.6m",
                fov: "24deg"
            },
            vent: {
                target: "0m -0.0546m 0.0978m",
                orbit: "-40deg 75deg 1.7m",
                fov: "26deg"
            },
            drain: {
                target: "-0.0223m 0.0009m -0.1004m",
                orbit: "0deg 100deg 1.8m",
                fov: "26deg"
            },
            joint: {
                target: "-0.0001m 0.0009m -0.0106m",
                orbit: "160deg 80deg 1.8m",
                fov: "28deg"
            }
        };

        function setActiveFeature(featureId) {
            const config = featureCameras[featureId];
            if (!config) return;

            // Update camera on the model-viewer
            viewer.setAttribute('camera-target', config.target);
            viewer.setAttribute('camera-orbit', config.orbit);
            viewer.setAttribute('field-of-view', config.fov);

            // Update hotspot states
            hotspots.forEach(hs => {
                if (hs.dataset.feature === featureId) {
                    hs.classList.add('active');
                    hs.classList.remove('dimmed');
                } else {
                    hs.classList.remove('active');
                    hs.classList.add('dimmed');
                }
            });
        }

        // Wire clicks
        hotspots.forEach(hs => {
            hs.addEventListener('click', () => {
                const id = hs.dataset.feature;
                setActiveFeature(id);
            });
        });

        // Initialize with entrance active
        setActiveFeature('entrance');
    </script>
</body>
</html>
